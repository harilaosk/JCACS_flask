<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rig Control Interface</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="d-flex">
        <!-- Sidebar -->
        <nav class="theme-nav">
            <div class="p-3">
                <h4>Navigation</h4>
                <a href="/" class="nav-btn {% if request.path == '/' %}active{% endif %}">Home</a>
                <a href="/activities" class="nav-btn {% if request.path == '/activities' %}active{% endif %}">Activities</a>
                <a href="/manual_control_page" class="nav-btn {% if request.path == '/manual_control_page' %}active{% endif %}">Manual Control</a>
                <hr>
                <h5>Theme</h5>
                <select id="theme-selector" class="form-select">
                    <option value="simple-light">Simple Light</option>
                    <option value="simple-dark">Simple Dark</option>
                    <option value="colourful">Colourful</option>
                </select>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="theme-main">
            {% block content %}
            {% endblock %}
        </div>
    </div>

    <script>
        // Theme switching logic
        const themeSelector = document.getElementById('theme-selector');
        const body = document.body;

        // Load saved theme from localStorage
        const savedTheme = localStorage.getItem('theme') || 'simple-light';
        body.className = savedTheme;
        themeSelector.value = savedTheme;

        // Handle theme change
        themeSelector.addEventListener('change', (e) => {
            const selectedTheme = e.target.value;
            body.className = selectedTheme;
            localStorage.setItem('theme', selectedTheme); // Save theme in localStorage
        });
    </script>
</body>
</html>